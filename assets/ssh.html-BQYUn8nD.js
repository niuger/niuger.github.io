import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as n,c as a,a as e}from"./app-D1uezr0R.js";const t="/assets/d10c357be7044003aebaf7355e8e1aca-DdlA0HwP.png",i="/assets/22fc1c3113014095a2d21c3d8a912359-BImLdgPo.png",o="/assets/8cf73152a78f4f75aeefa52df0a101b3-HN7_1ja9.png",p="/assets/723c5657a5bb4f9cbbf1adf1434fc759-mWGghhRX.png",r={},c=e(`<p>k8s开启ssh远程登录</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>（1）检查是否开启SSH服务 
　　命令：ps -e<span class="token operator">|</span><span class="token function">grep</span> <span class="token function">ssh</span>  查看SSH服务是否开启，
　　或者通过命令：service sshd status 可以查看某个服务的状态。

（2）安装SSH服务,有就跳过 嘿嘿嘿
 　  通过 yum 安装，命令：yum <span class="token function">install</span> <span class="token function">ssh</span>
 <span class="token operator">&gt;</span> 客户端   yum <span class="token function">install</span> <span class="token parameter variable">-y</span> openssh-client
 <span class="token operator">&gt;</span> 服务器   yum <span class="token function">install</span> <span class="token parameter variable">-y</span> openssh-server
	
（3）修改SSH配置文件
 　命令：  <span class="token function">vim</span> /etc/ssh/sshd_config，找到 PermitRootLogin without-password 修改为 PermitRootLogin <span class="token function">yes</span>
 　或者：sed <span class="token parameter variable">-i</span> <span class="token string">&#39;s/#PermitRootLogin yes/PermitRootLogin yes/g&#39;</span> /etc/ssh/sshd_config

（4）登录 master、node1、node2、node3，每个节点都执行。
    ssh-keygen <span class="token parameter variable">-t</span> rsa	（ssh-keygen这里一路回车就行）
    
    ssh-copy-id <span class="token parameter variable">-i</span> ~/.ssh/id_rsa.pub root@192.168.100.130 <span class="token operator">&amp;&amp;</span> <span class="token punctuation">\\</span>
    ssh-copy-id <span class="token parameter variable">-i</span> ~/.ssh/id_rsa.pub root@192.168.100.131 <span class="token operator">&amp;&amp;</span> <span class="token punctuation">\\</span>
    ssh-copy-id <span class="token parameter variable">-i</span> ~/.ssh/id_rsa.pub root@192.168.100.132 <span class="token operator">&amp;&amp;</span> <span class="token punctuation">\\</span>
    ssh-copy-id <span class="token parameter variable">-i</span> ~/.ssh/id_rsa.pub a@192.168.100.130 <span class="token operator">&amp;&amp;</span> <span class="token punctuation">\\</span>
    ssh-copy-id <span class="token parameter variable">-i</span> ~/.ssh/id_rsa.pub a@192.168.100.131 <span class="token operator">&amp;&amp;</span> <span class="token punctuation">\\</span>
    ssh-copy-id <span class="token parameter variable">-i</span> ~/.ssh/id_rsa.pub a@192.168.100.132

（5）重启SSH服务
　命令：  systemctl restart sshd 或   <span class="token function">service</span> sshd restart
　
（6）免密登录测试
	<span class="token function">ssh</span> <span class="token number">192.168</span>.100.130 <span class="token function">ssh</span> <span class="token number">192.168</span>.100.131
	<span class="token function">ssh</span> <span class="token number">192.168</span>.100.132
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>master</p><figure><img src="`+t+'" alt="master" tabindex="0" loading="lazy"><figcaption>master</figcaption></figure><p>node1</p><figure><img src="'+i+'" alt="node1" tabindex="0" loading="lazy"><figcaption>node1</figcaption></figure><p>node2</p><figure><img src="'+o+'" alt="node2" tabindex="0" loading="lazy"><figcaption>node2</figcaption></figure><p>node3</p><figure><img src="'+p+'" alt="node3" tabindex="0" loading="lazy"><figcaption>node3</figcaption></figure>',10),l=[c];function d(m,u){return n(),a("div",null,l)}const b=s(r,[["render",d],["__file","ssh.html.vue"]]),g=JSON.parse('{"path":"/k8s/ssh.html","title":"k8s开启ssh远程登录","lang":"zh-CN","frontmatter":{"icon":"/icons/k8s/k8s_16x16.png","title":"k8s开启ssh远程登录","category":["kubernetes"],"headerDepth":5,"date":"2020-04-20T00:00:00.000Z","order":2,"tag":["Linux","k8s","ssh"],"description":"k8s开启ssh远程登录","head":[["meta",{"property":"og:url","content":"https://blogres.github.io/k8s/ssh.html"}],["meta",{"property":"og:title","content":"k8s开启ssh远程登录"}],["meta",{"property":"og:description","content":"k8s开启ssh远程登录"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-03-11T15:35:29.000Z"}],["meta",{"property":"article:author","content":"blogres"}],["meta",{"property":"article:tag","content":"Linux"}],["meta",{"property":"article:tag","content":"k8s"}],["meta",{"property":"article:tag","content":"ssh"}],["meta",{"property":"article:published_time","content":"2020-04-20T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-03-11T15:35:29.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"k8s开启ssh远程登录\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2020-04-20T00:00:00.000Z\\",\\"dateModified\\":\\"2024-03-11T15:35:29.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"blogres\\",\\"url\\":\\"/article\\"}]}"]]},"headers":[],"git":{"createdTime":1709560609000,"updatedTime":1710171329000,"contributors":[{"name":"topjfy","email":"topjfk@163.com","commits":4}]},"readingTime":{"minutes":0.85,"words":254},"filePathRelative":"k8s/ssh.md","localizedDate":"2020年4月20日","excerpt":"<p>k8s开启ssh远程登录</p>\\n","autoDesc":true}');export{b as comp,g as data};
